# =============================================================================
# Docker Compose â€” Production Override
# =============================================================================
# Usage: docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d
# =============================================================================

name: gdg-pup-platform-prod

services:
  nexus-web:
    build:
      args:
        NEXT_PUBLIC_NEXUS_API_URL: ${NEXT_PUBLIC_NEXUS_API_URL}
        NEXT_PUBLIC_IDENTITY_API_URL: ${NEXT_PUBLIC_IDENTITY_API_URL}
        NEXT_PUBLIC_SUPABASE_URL: ${NEXT_PUBLIC_SUPABASE_URL}
        NEXT_PUBLIC_SUPABASE_PUB_KEY: ${NEXT_PUBLIC_SUPABASE_PUB_KEY}
    env_file:
      - apps/nexus-web/.env.prod
    restart: always

  nexus-api:
    env_file:
      - apps/nexus-api/.env.prod
    restart: always

  identity-api:
    env_file:
      - apps/identity-api/.env.prod
    restart: always
